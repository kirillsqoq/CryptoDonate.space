System.register(["@babel/helper-module-imports","@babel/types","babel-plugin-macros"],function(_){"use strict";var i,n,c,l;return{setters:[function(e){i=e.addNamed},function(e){n=e},function(e){c=e.createMacro,l=e.MacroError}],execute:function(){var x=_("default",c(({references:h})=>{var s;(s=h.useProxy)==null||s.forEach(o=>{var u,d,v,m,f,b;const g=i(o,"useSnapshot","valtio"),a=(d=(u=o.parentPath)==null?void 0:u.get("arguments.0"))==null?void 0:d.node;if(!n.isIdentifier(a))throw new l("no proxy object");const p=n.identifier(`valtio_macro_snap_${a.name}`);(m=(v=o.parentPath)==null?void 0:v.parentPath)==null||m.replaceWith(n.variableDeclaration("const",[n.variableDeclarator(p,n.callExpression(g,[a]))]));let r=0;(b=(f=o.parentPath)==null?void 0:f.getFunctionParent())==null||b.traverse({Identifier(t){r===0&&t.node!==a&&t.node.name===a.name&&(t.node.name=p.name)},Function:{enter(){++r},exit(){--r}}})})},{configName:"valtio"}))}}});
