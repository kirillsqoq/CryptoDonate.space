var e=require("@babel/runtime/helpers/interopRequireDefault");exports.__esModule=!0,exports.default=exports.Avatar=void 0;var t=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=l(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var s=n?Object.getOwnPropertyDescriptor(e,u):null;s&&(s.get||s.set)?Object.defineProperty(r,u,s):r[u]=e[u]}r.default=e,a&&a.set(e,r);return r}(require("react")),a=require("../utils/dom"),r=require("../utils/assertion"),n=e(require("./avatar.styles")),u=e(require("../utils/clsx")),s=require("react/jsx-runtime");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(l=function(e){return e?a:t})(e)}const i=e=>(null==e?void 0:e.length)<=4?e:null==e?void 0:e.slice(0,3),o=t.default.forwardRef(((e,r)=>{const{src:l,text:o,icon:c,alt:f,className:d,...p}=e,v=(0,a.useDOMRef)(r),x=!l,[m,y]=(0,t.useState)(!1),j=(0,t.useRef)(null);(0,t.useEffect)((()=>{var e;(null==j||null==(e=j.current)?void 0:e.complete)&&y(!0)}),[]);const g=(0,t.useMemo)((()=>!m&&l?"loading":"ready"),[l,m]);return(0,s.jsxs)(n.default,{ref:v,className:(0,u.default)({"only-text-avatar":x},d),"data-state":g,...p,children:[(0,s.jsx)("span",{className:"nextui-avatar-bg"}),!x&&(0,s.jsx)("img",{ref:j,className:(0,u.default)("nextui-avatar-img",`nextui-avatar--${g}`,{"nextui-avatar-ready":m}),src:l,alt:f,"data-state":g,onLoad:()=>y(!0)}),x&&!c&&o&&(0,s.jsx)("span",{className:"nextui-avatar-text",children:i(o)}),c&&(0,s.jsx)("span",{className:"nextui-avatar-icon",children:c})]})}));exports.Avatar=o,r.__DEV__&&(o.displayName="NextUI.Avatar"),o.toString=()=>".nextui-avatar";var c=o;exports.default=c;